**重要性质(最小二乘法的前提)：**如果A中的各列线性无关，则A^T*A可逆
证明：tricks：长度的平方=0则长度为0
# 子空间正交
- 定义
假设有子空间S和子空间T，如果S与T正交，则S中的每个向量与T中的每个向量正交
- 正交子空间
  * 行空间与零空间正交，Ax=0就说明了x与A的每行的乘积为0，即正交
  零空间的维数加上行空间的维数等于整个子空间的维数，零空间又称为行空间的**正交补**空间
  * 列空间与左零空间正交

# 求解不可解的Ax=b
**问题解释：**当b在A的列空间中方程才有解，但是实际情况的b往往不在A的列空间中，这时导致方程无解，但是可以在A的列空间中找到一个与b向量最为接近的向量代替b，使得方程可解, 即将b**投影**到A的列空间中，这样方程就能找到一个最优解

**方法：**乘A^T, Ax=b -> A^T*A*x=A^T*b

- 矩阵A^T*A的性质：
  * 方阵，对称矩阵
  * 它的零空间与A的零空间相等
  * 秩与A相等

## 投影矩阵P
将向量乘以投影矩阵就得到了，该向量在矩阵A的列空间的最近点
向量之间的投影：记b在a上的投影向量为p，p是a的倍数即p=xa，通过正交关系，求解x，的到投影矩阵 **P=aa<sup>T</sup>/(a<sup>T</sup>a)**（一维）
**多维情况：P=A(A<sup>T</sup>A)<sup>-1</sup>A<sup>T</sup>**, A是一个长方形矩阵

**性质：**
- 投影矩阵为对称矩阵 **A=A<sup>T</sup>**
- 投影两次后等于本身

### 二维投影矩阵的推导
![468323658.jpg](http://upload-images.jianshu.io/upload_images/3022282-07164972befd0a99.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
通常是求出x向量就可以了


## 应用：拟合直线(最小二乘法)
目标：使每个点的误差的平方和最小,即||Ax-b||^2 = ||e||^2最小,由于平方的存在，受到离群量的影响严重

![1868289104.jpg](http://upload-images.jianshu.io/upload_images/3022282-88224874415637ba.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
公式二是两边同时乘投影矩阵，化简后得到的，b变成了在A的列空间中的投影p

# 正交矩阵Q
矩阵中的向量为单位向量，且两两正交，一般当矩阵为 方阵的时候才称为正交矩阵(也可以是长方形矩阵)
**作用：** 使用标准正交基可以简化运算，利用性质：Q^T*Q=I,
A^T*A*x=A^T*b -> Q^T*Q*x=Q^T*b -> x=Q^T*b

# Gram-Schmidt正交化
两个向量a，b，使这两个向量正交化：
1. a不变，直接作为第一个正交向量A
2. 在b中求与a正交的向量B, (向量b，p(b在a上的投影), e(误差)构成一个三角形), 从b中减去它在a上的投影就得到了正交向量B
B=b-A^T*b/A^T*A(b在A上的投影)(一维向量的投影是做除法)
如果有多个向量，后面的向量依次减去它在前面向量的投影

![426373943.jpg](http://upload-images.jianshu.io/upload_images/3022282-6e50851af0464da7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
